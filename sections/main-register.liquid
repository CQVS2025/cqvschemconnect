<section class="auth-page">
  <div class="container container--narrow">

    <div class="auth-page__card">
      <h1 class="auth-page__heading">{{ section.settings.heading }}</h1>

      {%- comment -%} Error display {%- endcomment -%}
      {%- if form.errors -%}
        <div class="auth-page__errors" role="alert">
          <h2 class="auth-page__errors-heading">{{ 'customer.register.errors_heading' | t }}</h2>
          <ul class="auth-page__errors-list">
            {%- for field in form.errors -%}
              <li>
                {%- if field == 'form' -%}
                  {{ form.errors.messages[field] }}
                {%- else -%}
                  {{ form.errors.translated_fields[field] }} {{ form.errors.messages[field] }}
                {%- endif -%}
              </li>
            {%- endfor -%}
          </ul>
        </div>
      {%- endif -%}

      {%- comment -%} Registration form {%- endcomment -%}
      {% form 'create_customer' %}
        <div class="auth-page__field-row">
          <div class="auth-page__field">
            <label for="customer-first-name" class="auth-page__label">{{ 'customer.register.first_name' | t }}</label>
            <input
              type="text"
              id="customer-first-name"
              name="customer[first_name]"
              class="auth-page__input"
              autocomplete="given-name"
              required
            >
          </div>

          <div class="auth-page__field">
            <label for="customer-last-name" class="auth-page__label">{{ 'customer.register.last_name' | t }}</label>
            <input
              type="text"
              id="customer-last-name"
              name="customer[last_name]"
              class="auth-page__input"
              autocomplete="family-name"
              required
            >
          </div>
        </div>

        <div class="auth-page__field">
          <label for="customer-email" class="auth-page__label">{{ 'customer.register.email' | t }}</label>
          <input
            type="email"
            id="customer-email"
            name="customer[email]"
            class="auth-page__input"
            autocomplete="email"
            autocapitalize="off"
            autocorrect="off"
            required
          >
        </div>

        <div class="auth-page__field">
          <label for="customer-password" class="auth-page__label">{{ 'customer.register.password' | t }}</label>
          <input
            type="password"
            id="customer-password"
            name="customer[password]"
            class="auth-page__input"
            autocomplete="new-password"
            required
          >
        </div>

        <button type="submit" class="btn btn--primary btn--full auth-page__submit">
          {{ 'customer.register.submit' | t }}
        </button>
      {% endform %}

      {%- comment -%} Link to login {%- endcomment -%}
      <div class="auth-page__links">
        <a href="{{ routes.account_login_url }}" class="auth-page__link">
          {{ 'customer.register.already_have_account' | t }}
        </a>
      </div>
    </div>

  </div>
</section>

{% schema %}
{
  "name": "Register page",
  "tag": "section",
  "class": "section-main-register",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.main_register.settings.heading.label",
      "default": "Create Account"
    }
  ]
}
{% endschema %}
